# sd_extension_template

- Extension開発で変に詰まったところをテンプレ化していく

## scripts.basedir()は使えない

- 本当はExtension直下を示して欲しいのだが常にwebui直下を示している

## pythonのコード置き場を作る

- main.pyに全部詰め込むと長くなるのでファイルを分割したいが、同一ディレクトリに置くとScriptドロップダウンに干渉する。
- そこで、pyファイルの置き場としてpyディレクトリを想定する
- scriptsからpyディレクトリを見るには from py で済む

## pyディレクトリ内で同一ディレクトリの別ファイルをimportする

- from .ファイル名 でいける(先頭の.が大事)

## pyディレクトリから別ディレクトリのpyファイルをimportする

- py2ディレクトリを想定する(他人が作ったモジュール等、明確な違いが無ければ同一ディレクトリにまとめたほうが楽)
- from ..py2 はエラーになるためimportilbを使う

## そのほか、Extension以下のファイルやフォルダにアクセスする

- pathlibを使って自分のpathを取得することで対応できる
- Python 3.8と3.9で__file__の取り扱いが異なるが、pathの右側から切り取れば挙動は一致するはず
